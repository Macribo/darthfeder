//jshint esversion:6
const tileSize = 32;
// viewport dimensions
const vw = 32 * 32 + 10;
const vh = 19 * 32 + 5;
let viewport = document.querySelector('#viewport');
viewport.style.width = vw;
viewport.style.height = vh;

//
//working with requestAnimationFrame
var timers = [];

timers.push({
    //this timer fires every
    delay: 50,

    //fire this timer when requestAnimationFrame's timestamp reaches nextFireTime
    nextFireTime:0,

    //what does this timer do?
    //it executes the doTimers function when this timer fires
    doFunction: doTimers,
});


//the animation loop
//the loop automatically receives the current time
function timerLoop(currentTime){
    //schedule another frame
    //this is required to make the loop continue
    //(without another requestAnimationFrame, the loop stops)
    requestAnimationFrame(timerLoop);

    //iterate through each timer object
    for(let i = 0; i<timers.length; i++){
    
            //if the currentTime is > this timer's nextFireTime
        
        if (currentTime > timers[i].nextFireTime){
            var t= timers[i];

            //increment nextFireTime
            t.nextFireTime=currentTime+t.delay;
        
            //execute the task specified in this timer
            t.doFunction(t,i);
        }
    }


}





// minimum number of tiles to cover the
// viewport under all circumstances
let tw = Math.floor(vw / tileSize + 1);
let th = Math.floor(vh / tileSize + 1);
createGrid(tw, th);

function createTile(tileX, tileY, terrainType, terrainVariation ){
    let tile = document.createElement("div");
    tile.setAttribute("id", `tile${tileX}_${tileY}`); //template strings
    tile.classList.add('tile');  
    let backgroundPosX = -terrainVariation * tileSize;
    let backgroundPosY = -terrainType * tileSize;
    tile.style.backgroundPositionX = `${backgroundPosX}px`;
    tile.style.backgroundPositionY = `${backgroundPosY}px`;
    tile.style.left = tileX*tileSize;
    tile.style.top = tileY*tileSize;
    
    return tile;
}

function mapSymbolToTerrainType(mapSymbol) {
    return {
        '1': 0,
        '2': 2,
        '3': 2,
        '4': 4,
        '5': 4,
        '6': 1
    }[mapSymbol];
}
function createGrid(tw, th){
    console.log(`Creating tile grid ${tw}x${th}`);
    for(let tileY = 0; tileY < th; tileY++){ 
        for(let tileX = 0; tileX < tw; tileX++){
            let tile = createTile(tileX, tileY, 0,0);

            document.querySelector('#grid').appendChild(tile);
        }
    }
}

let randomTileVariations = createArrayOfRandomInts(100,4);

function updateGrid(tw, th, map, sx, sy){
    for(let tileY = 0; tileY < th; tileY++){ 
        for(let tileX = 0; tileX < tw; tileX++){
            let mapX =tileY + sy;
            let mapY =tileX + sx;

            let variationIndex = mapX * mapY;
            let terrainVariation = randomTileVariations[variationIndex % randomTileVariations.length];
            let mapSymbol = map[mapX][mapY];   //tileY gives us the map line, tileX gives the character position    
            let terrainType = mapSymbolToTerrainType(mapSymbol);

            let tile = document.querySelector(`#tile${tileX}_${tileY}`);

            if (terrainType !== undefined) {
                // show tile
                // let terrainVariation =0 ;
                if(mapSymbol === '6'){
                    terrainVariation = mapY;
                    terrainVariation = (terrainVariation + Math.floor(Date.now() / 1000)) % 4;
                }
                let backgroundPosX = -terrainVariation * tileSize;
                let backgroundPosY = -terrainType * tileSize;
                tile.style.backgroundPositionX = `${backgroundPosX}px`;
                tile.style.backgroundPositionY = `${backgroundPosY}px`;
                tile.style.opacity=1;
            } else {
                // hide tile
                tile.style.opacity=0;
            }

        }
    }
}
/*
function createWorldMap(map){
    let mapHeight = map.length;
    let mapWidth = map[0].length; // we assume a rectangular map
    console.log(mapWidth, mapHeight);
    for(let tileY = 0; tileY < mapHeight; tileY++){ 
        for(let tileX = 0; tileX < mapWidth; tileX++){
            let mapSymbol = map[tileY][tileX];   //tileY gives us the map line, tileX gives the character position    
            let terrainType = mapSymbolToTerrainType(mapSymbol);
            if (terrainType !== undefined) {
                let terrainVariation = Math.floor(Math.random()*3);
                let tile = createTile(tileX,tileY,terrainType,terrainVariation);
                document.querySelector('body').appendChild(tile);
            }
        }
    }
}
*/
let armagh = `00000000000111000000000001100
00000000111111166666611111100
00000001111111111116111211110
00000011111111111116222111110
00000011111111111222266666610
00000111111111222211111111110
00011111111122211111111111100
00111111111221112222211110000
01111111112212222111211110000
11111111112111111111211110000
11111111112211111111211110000
11111111222211111122211110000
01111111211221111121111110000
00111111211122111222111111100
00001111211112122212211111100
00000011211111221111221111100
00000011444444211111121111000
00000001444444222122224441000
00000001444444442221221444000
00000001444444442244422144411
00000000114444444245542244411
00000000014444444255554411111
00000000001444442244544444110
00000000001144444444441100000
00000000000011111111111000000
`;

//Antrim

let antrim = `000000001111100000000000000000
011110000001100000000000000000
011111111000000011155000000000
011222221111111144555100000000
611211122211112222554100000000
611211111222224452554100000000
622211111111111422541100000000
611244444441115524441000000000
611224444444452244411100000000
661122444444422444444155100000
061142244444221112222225100000
066114422442222222144522110000
000611444222444111145552111100
000611144442111114455542111111
000611444442444114555112111111
000611111444211144441121111100
000611111111221441441224111000
000611666611122222222244110000
000666610066122444444141100000
000060000006612211122411100000
000000000006611222222110000000
000000000000661144421110000000
000000000666614444421110000000
000000006611144444221100000000
000000006614444411211000000000
000000006114444112210000000000
000000006111112221110000000000
000000011122222111000000000000
000000011111111000000000000000
000000011000000000000000000000
`;
//Cavan



let cavan = `0000000000000000000000000000000000000000000000000000000000000
0000011110000000000000000000000000000000000000000000000000000
0111111441000000000000000000000000000000000000000000000000000
1444444441110000000000000000000000000000000000000000000000000
1444444444411100000000000000000000000000000000000000000000000
1444444441441111100000000000000000000000000000000000000000000
1114444444441224111111611110000000000000000000000000000000000
0011444444441214411111661211111110000000000000000000000000000
0000004444441222111111166122111111100000000000000000000000000
0000000001144112222221116662266111110000111111111000000000000
0000000000014111111122222211216661111111111111111111110000000
0000000000011111111111116222222116661116666666666666611000000
0000000000001111111111166111112221166666111111111111111100000
0000000000000111111111161111111122211111111111111111111111000
0000000000000111111111166111111111121111111111111111111111100
0000000000000001111111116661111111112221111111111111111111110
0000000000000000111111111161111111111122211111111111111111111
0000000000000000011111111161111111111111221111111111111111111
0000000000000000001111111611111111111111122111111111111111111
0000000000000000000011111111111111111111112211111111111111111
0000000000000000000001111111111111111111111221111111111111111
0000000000000000000000111111111111111111111121111111111111110
0000000000000000000000011111111111111111111122111111111111110
0000000000000000000000000111111111111111111112211111111111110
0000000000000000000000000001111111111111111111211111111111100
0000000000000000000000000000011111111111111111221111111111000
0000000000000000000000000000001111011111111111111111111110000
0000000000000000000000000000000000001111111111111111110000000
0000000000000000000000000000000000001111111110000000000000000
0000000000000000000000000000000000000011000000000000000000000
`;



//Derry

let derry = `0000000000000000000000000111111110000000
0000000000000000000000001111111111000000
0000000000000000000000111111111111110000
0000000000000000011111111111111111110000
0000000000001111111111222222221111110000
0000000000001111111111211111121111110000
0000000000001111111111211444122211110000
0011111111111111111111211444411211110000
1111111111111111111111211444411222110000
1111112222111111122222111444411112110000
1111221111221112211111111444441112111100
1122111111112221111111144455541112221100
1111221111111111111111144455541111121111
0111112211111111111111144455541111112111
0001111122222222222221144444441111112111
0000011111111111111112221111111111112111
0000000111111111111111112222111111121111
0000000000111111111111111111222112211111
0000000000001111000011444111111221111111
0000000000000000000011444411111121111111
0000000000000000011144555444411121111111
0000000000000011444555554444411221111111
0000000000000011444444444411122222111111
0000000000000011111111111111221112222100
0000000000000000000011111111211111112100
0000000000000000000000000111211111112100
0000000000000000000000000111222222221100
0000000000000000000000000011111111111100
0000000000000000000000000001111111000000
0000000000000000000000000000000000000000
`;
//Donegal
let donegal = `000000000000000000000000000000000000011111111000000000000
000000000000000000000111100111000000011111111111000000000
000000000000000000000111111111100000011144444411110000000
000000000000011110000111441111100001111445555444111111100
000000011111111111112222222221100011114455555554441111111
000000111111111144222445555422100111114555555555541111111
000001111114414422244455555412101111114555555555441111110
000001111444442224455555555412111111144555555544411111100
000001111444122445555555554411222221145555554441111111000
011011111112224555555555544111111121144444444111111100000
011011114222455555555555441111111112211111111111000000000
010001142245555555555554411116666666611111111000000000000
000001112455555555555544111666111441661111110000000000000
000001122455555555544441166614444441266666600000000000000
000000124455555444441666664444144412211111000000000000000
000001124445444416666611444555441122111111000000000000000
111111121144411114444444555544422221111100000000000000000
114444421114444444114411444441221110000000000000000000000
111444424444122222222444411222200000000000000000000000000
000111122222221100012221112211100000000000000000000000000
000000111100000000001122222111111000000000000000000000000
000000000000000000011111111111111100000000000000000000000
000000000000000001111111111111111100000000000000000000000
000000000000000111111111111111111000000000000000000000000
000000000000001111111111111111000000000000000000000000000
000000000000001111111111110000000000000000000000000000000
000000000000001111111111100000000000000000000000000000000
`;


//down

let down = `000000000000000000011111110000
000000000000000011111111111000
000000000000000111222222221100
000000000000001122441111121110
000000000000112244441111121110
000000000011121444444111121111
000000111111211444441161122111
111111111122111444411666122211
111111122211111441111666121221
111222211111111111111661121121
122111111111111111111661122221
121111111111111111111661111110
112111111111111111111166111100
112111111111111441111116660000
666666661111111441111111116000
001121166611111441111111111000
000112111661111444111111211100
000011211161144444111112211100
000011121111144444411122111100
000001114411114444551221111000
000001112441444445554211110000
000001112444444455522110000000
000000111244445555521100000000
000000011224455555211000000000
000000000122222221110000000000
000000000000011111000000000000
000000000000000011000000000000
`;



//Firmanagh
let firmanagh = `000000000001111111111111110000000000000000000000000000
000000000011111111111111111100000000000000000000000000
000001111111111111111111111111111100000000000000000000
000001111122222222222222111111111100000000000000000000
011111122221166666611112111111111100000000000000000000
011122221666666666661112111111111000000000000000000000
111111122216666666661112211111100000000000000000000000
111111111122211666666111211111000000000011110000000000
011114444111221166666661121111100000000111111100000000
001111444411122116666666121111111111111111111110000000
000111114441112211666666121111111111111111111111000000
000661144444111222211111121111111111111111111111100000
000066111444444111222222221111111111111111111111111100
000006611144444411111111121111111111111111111111111111
000000666111144444411111121111111111111211111111111111
000000006666114444441111121111111111111211111111111111
000000000006661144444411122222222221111211111144444110
000000000000066112244111121166611122111211111444441000
000000000000006664224444122166666612222211114444444100
000000000000000066142244412166666661221111114444444100
000000000000000006144222222216666666122111144114441100
000000000000000006114444424222666161612211111111111100
000000000000000006114444424412216666611211111111111000
000000000000000006111444424441222222222211111111100000
000000000000000006666111121444111111121111111111000000
000000000000000000006661121111111111121111111100000000
000000000000000000000066121111111111111111100000000000
000000000000000000000000000111111111111110000000000000
`;

//monaghan

let monaghan = `0000000000011121100000000000000000
0000000011111121100000000000000000
0000114555541121111100000000000000
0001114455541221111100000000000000
0001114444441211111100000000000000
0001111144411211111100000000000000
0001111111441211111100000000000000
0000111111112211111110000000000000
0000000111112111111111000000000000
0000001111122221111111111000000000
0001111111221122221111111110000000
0111111222211111122222111111000000
1111222211111111111112221111000000
1122211111111111111111122111100000
1111111111111111111114442211110000
1111144444111111111144444221111100
0011144444444444444444444421111110
0001114444444444444444444422111111
0000000000066666444466444442411111
0000000000001446666664444442411111
0000000000001144444444444442411110
0000000000000044444444444442411110
0000000000000014444444444422111100
0000000000000000114444411121111100
0000000000000000111111111122111100
0000000000000000111111111111111100
0000000000000000011111111111111000
0000000000000000001111111111111000
0000000000000000000000000011100000
`;

//tyrone
let tyrone = `0000000000000000000011111111000000000000000000000000000000000
0000000000000000011222111111444100000000000000000000000000000
0000000000000000111211111111144441000000000000000000000000000
0000000000000000112111111111111144100000000000000000000000000
0000000000000001112111111111114414441100000000000000000000000
0000000000000001122111111111114144445551000000000000000000000
0000000000000111221111111111114444555555155551110000000000000
0000000001111122211111111111144415555555555555110000000000000
0000111111111122111111111111114445555555555551110000000000000
1111111111111112221111111111114144555555511111110000000000000
1444444111111111122111111111111444454555111111000000000000000
1144444111111111112211111111111444454551111120000000000000000
0001144411111111111121111111111144144551111211100000000000000
0000014444111111111122111111111444444111111211111111000000111
0000000144411111111222211111141444414111112211111111101111111
0000000000111111111211211111141144114111122111111111111111111
0000000000001111112211221111141114444111122211111111111111160
0000000000111111222111122111441114411111111222111111111111660
0000000001111222211111112211441111111111111112211111111111600
0000000001222211111111111222411111111111222222221111111110000
0000000001114444444414444442222221111122211111121111100000000
0000000001114441444444444444441122222221111112221110000000000
0000000001111000000144414444444111111111111111111100000000000
0000000000000000000014554444444444411111111111111100000000000
0000000000000000000001555544444111111111111111111100000000000
0000000000000000000000155555444110000011111111110000000000000
0000000000000000000000001444411000000000111111000000000000000
`;



//galway
let galway = `888888888888888000000000000000000000000000001100000000000000000
888888888888888881111111000000000000000000111111100000000000000
888888888881111144444411111000000000001111111111111000000000000
888888811111111144444444116100000001111111111111111100000000000
888888111444444222222221166100000011111111111111111110000000000
888811444222222244411126661110000111111111111111111111000000000
881144422245555566666666666666611111111111112211111111000000000
011144224555566666666666666666111211111111222111111111000000000
111122222222555554444241666661111211111112211111111111000000000
111111111112222222222241116666111221111122111111221111000000000
888888888811114414422244116666611122111121111222211111000000000
888888811111114411444222222111661112221121112211111110000000000
888881111144444144444444412221166661121121122111111110000000000
888811111144444144444414111122211111221121221111111100000000000
888111188811111114444444441111222222212222111111111100000000000
888888888811111111444444411111111111222111111111111110000000000
888888888111111111111111111111111111211111111111111111110000000
888888881111881111111111111111111111222211111111111111111110000
888888880111888811111111111188881111111222221111111111122111100
888881888888888888111111111188888111111111122222222222221111110
888881110088888888888888888888881111111111111122211111111111116
888881411188888888888888888111111111111144444444421111111111666
888881441188888888888888111111111111111144444444421111111166600
888888144188888888888888111811111111111144444441221111111660000
888888811188888888888888888111111111111111444441216666666600000
888888888888888888888888881111800001111111144142216000000000000
888888888888888888888888888888800000001111114422110000000000000
888888888888888888888888888888000000000011144241100000000000000
888888888888888888888888888888000000000000111210000000000000000
`;

//leitrim

let leitrim = `0145544441110000000000000000000000
0155555444111110000000000000000000
0114455444111111100000000000000000
0000144444111111111000000000000000
0111444444111111111100000000000000
1114414411111111111110000000000000
1111111111111111111110000000000000
1111111111111111111110000000000000
1111111111111111111110000000000000
0011111111111111111000000000000000
0022222221111111110000000000000000
0011111112222111111000000000000000
0111111111112222222210000000000000
0011111166111111111111110000000000
0001111116661111111111111100000000
0000011111666611111111111111000000
0000001116664444411111111111110000
0000000006666444444411111111111100
0000000000066444444411111111111100
0000000000004444444111111111111110
0000000000014144141111111111111110
0000000000014444141111111111111111
0000000000111111411111111111111111
0000000000111111111111111111111111
0000000000011111111111111111111110
0000000000001111111111111111111100
0000000000001111111111111111111000
0000000000000111111111111111110000
0000000000000001111111111111000000
0000000000000000011111111100000000
`;
//Mayo
let mayo = `888888888811100001111111000000000000000000000
888888888881111111111441110000000000000000000
888811118811111144444444111100000000000000000
888111111111114444444144111111110000000000000
888118111116614422244411111111110000000000000
881118111166622224241111111111110000000000000
888888811222224441222112222211110000000000000
888111822211114411112222666222221112222000000
811111122111444444444111666661122222111000000
111111112221144444444441166666611121111111110
011111111121114444444444446666661122211111111
888888881111444444444144444141111111221111111
888888888811444444111144414441166641122211111
888888888811441188111111111111166644411211100
888888888811118888111111111111144444441221110
888888888888888888111111111111144444444122211
888888888888888888881221111111111111111221111
888888888888888888011122221116666111122211111
888888888888811111111422422266666222211111111
888888888881111111422224444222222211221111111
888888888811111442224444446666111111121111100
888888888811114442444444466666111111121110000
888888888881114444444444466661111111110000000
888800000088811111111444441111111111100000000
000000000000888888888801664441111111100000000
000000000000000000000800661111111110000000000
000000000000000000000000166111111000000000000
`;
//roscommon
let roscommon = `000000000000000011000000000000
000000000011111121000000000000
000000000111111221160000000000
000000111111111211166600000000
000000111111111222211660000000
000000011111661211221166000000
000011211111666611122116660000
000011222111661666112211160000
000000112221111216661111160000
000001111122211211166661600000
001111112222222211144466600000
011111222111111221114444600000
111112211110011122111444660000
011122111000001112222114466000
011221100000000111212224446600
000000000000000111121122221660
000000000000000011122111111166
000000000000000001112111111166
000000000000000001112111111166
000000000000000000112111111106
000000000000000000112111112266
000000000000000000112111221166
000000000000000000112112211166
000000000000000000112112111166
000000000000000000122111111000
000000000000000000111111110000
000000000000000000111111100000
000000000000000000011111000000
`;
//Sligo

let sligo = `8888888888888888888880004411000000000000000
8888888888888888888801444444410000000000000
8888888888888888881114444442241100000000000
8888888888888888811114444422444110000000000
8888888888888888811122222224411110000000000
8888888888888888881111111244411100000000000
8888881188888888888881111211111100000000000
8888111111188888888811111211661100000000000
8888111111111888888811111211666110000000000
8888111122111188888881111266666110000000000
8888111122211111111111111122661110000000000
8111111121122211111211111112211110000000000
1111111121111222222211111111221111110000000
1111111121144444111221111122122111111110000
1111111101145144441112222221112221111111000
8111188881445544441111111122222112222111110
8888888881444554444111111122141221112211111
8888888888844144444111111221144121111222111
8888888888144441111111111211144221411111111
8888888888114411111111111211114244411000000
8888888888111111111111111211112244410000000
8888888888111111188811111211122444100000000
8888888888811888880881111111221441100000000
8888888888888888888881116612211111000000000
8888888888888888888811116666611111000000000
8888888888888888888811111666661111000000000
8888888888888888888801111111111100000000000
8888888888888888888000111100000000000000000
`;


//Carlow
let carlow = `000000000000000000001111111111111000000000
000000000000000000011111111111111111100000
000000000000000000111111122222221111111000
000000000000000001111111221111112211111110
000000000000000011111112211111111222111111
001111110000600122111122111111111112211111
011111111000601222111121111111111111221111
011111111166611212111121111111100111122111
011111111661112112111211111111000011111111
111111116611221112111211111110000001111110
111111166112211122112211111110000001111100
111111161121111122122111111100000000100000
111111161221111112221111111000000000000000
011111162211111112211111120000000000000000
001111662111111111221111221000000000000000
000111612111111111121122111100000000000000
000011662111111111122221111100000000000000
000000162211111111111111111100000000000000
000000016211111111111111111100000000000000
000000006621111111111111111100000000000000
000000000622111144441141110000000000000000
000000000062211144444441000000000000000000
000000000066221144444410000000000000000000
000000000006122214444410000000000000000000
000000000006611214444100000000000000000000
000000000000661224441100000000000000000000
000000000000061124441100000000000000000000
000000000000066124441000000000000000000000
000000000000006124410000000000000000000000
000000000000006611100000000000000000000000
`;

//Dublin

let dublin = `0000000000011111000000000
0000000000011111111100000
0000000000111111211100000
0000000001144111211110000
0000114444444111211110000
1111114444444111211110000
1111114444444111221111100
1111111111144411122211110
1111111111111111111211111
0111111111111111111211111
0001111111111111112211111
0000011111111111222111111
0000000111111111211111111
0000000011111111211111111
0000000000111111221166666
0000000111111111666661110
0000011111111166621111110
0006611111111661121111100
0111666611666611121111000
0111111666611111111100000
0111111111111111110000000
0011111111111111100000000
0011111111111111100000000
0011111111111111100000000
0011444411111111110000000
0001444444441111111000000
0001444444444111111100000
0001144444444441111110000
0000144444444444411111100
0000000014444444444111110
`;

//Kildare

let kildare = `00000661111000000000000000000
00016611111111111111100000000
06666111111111111122166110000
16111112211111112221661111100
01111111222222222116612111100
00111111111111111661112111100
00011111111111116611112111100
00011111111111116111222111100
00011111111122266222211111611
00011111112221162111111166611
01111111222111162111166661110
06122222211111166116661111110
06111111111112216666111141100
06111111111121111111111441000
06111111111221111111114410000
06111111111221111114441100000
06111111112221111444100000000
06111112221121114441000000000
06112222111221114440000000000
06111111111211114410000000000
06111111112211144441000000000
06111111122111144441100000000
06111111121111114444110000000
06611111221111111144410000000
00611111211111111111110000000
00061111111111111111110000000
00066661111111111111100000000
00000066611111111111000000000
00000000666661111000000000000
00000000000066100000000000000
`;

//Kilkenny

let kilkenny = `000000000000000000014411000000000
444441111000000001144444100000000
444444221100000011144444110000000
444444422111000111144442410000000
111144442211111111144442411000000
001111444221111111144222111000000
000011111122111111222211111000000
000001111112211112211111111600000
000000111111221122111111111600000
000000011111122221111111111660000
000000001111112222222222211166000
000000001111112221111111222216600
000000000111122121111111111211600
000000000111121122111111112211600
000000000111221112211111112111660
000000000122111111222211221111160
000000000121111111121222211111166
000000000111111111122111114444416
000000000111111111112111144444416
000000000111111111112211144444116
000000000001114411111221111144116
000000000001114444441121111111116
000000000000114444444121111111166
000000000000111444444422111111160
000000000000111444444442211111660
000000000000011114444441211116600
000000000000001161111444211116000
000000000000000066611111211116000
000000000000000000661111211116000
000000000000000000066666666666660
`;
//Laois


let laois = `0000000000001111000000000000000000000000
0000000001111166666666000000000000000000
0000000004444161111116666666660000000000
0000000004444161111111111111116600000000
0000000044441612111111111111111600000000
0000000444166612221111111122111600000000
0000044444111111121111111221111600000000
0004444441111111122111111211111600000000
0144444441111112222221112211111600000000
0144444441111122111122222111111600000000
0114444411111221111112111111111660000000
0111111111111211111112111111111166600000
0011111112222111111122221111111111666660
0001111222111111112221112222222111111166
0011111111111122222111122111112211111116
0111111111122221111111121111111111111116
1111111111221111111112221111111144144116
1111111111111100111122111110011114444416
1111111111110000011111111000000114444410
0011111111100000001111110000000000444100
0000011111000000000011000000000000000000
`;






//Longford
let longford = `000000000000000000044400000000000
000000000000000001444410000000000
000000000000000114444410000000000
000000000000001114444411000000000
000000000000011444444441000000000
000000000000111414444441100000000
000000000001111444111111110000000
000000000011111111111111111000000
000000000111111111111111111110000
000000001111111111111111111111100
000000011111111111111111111111111
000000111111111111111111111122211
000001111111111112222222222221110
000111221111111112111111111111100
001111122111111122111111111111000
011111112221112221111111111110000
111111111122222121111111111100000
611111222222111112111111111000000
611112211221111112211111110000000
611112112211111111211111100000000
661221112111111112211111000000000
061111122111111166111100000000000
066111121111166666666000000000000
066112211666662221110000000000000
006116666666222111100000000000000
006166666001211100000000000000000
006666601111000000000000000000000
006601111000000000000000000000000
006611000000000000000000000000000
`;

//Louth
let louth = `0000000000000000455254000000000000000
0000000000000141555255554000000000000
0000000011111444555222555540000000000
0000001111111114441442255555544000000
0000001111111111144414245555555111110
0000001111111111111144244444444441111
0000001111111111111112214444444441111
0000001111111111111122111111111111111
0000001111111111111221111111111111111
0001111111111111111211111111111111100
0111111111111111111221100001111111000
1111111111111111111220000000000000000
1111111111111111111210000000000000000
0111111111111111111211000000000000000
0011111111111111111211000000000000000
0011111111111111111211110000000000000
0001111111111111111211111100000000000
0001111111111111122211111110000000000
0001111111111122221111111111000000000
0000111112211221111111111111100000000
0000111111221211111111111111100000000
0000111114422211111111111111100000000
0000011114444221111111111111100000000
0000001111444422111111111111100000000
0000000111144442411111111111100000000
0000000000111662441111111111100000000
0000000000000066666111111111000000000
0000000000000000006666666000000000000
`;

//Meath
let meath = `0000000000000000014441111100000000000000000
0000000000000000144144111110000000000000000
0000000000000001444441111110000000000000000
0000000000000001444444411112000000000000000
0000111111000001111144411112100000000000000
0011444112210001111144111112110000000000000
0144411111221111111111111112111111111000000
0444441111121111111111111112111111116611000
4444441111122111111111111112111111116111100
4444444411111221111111111112221111166111111
0144111111111122221111111111121111661111111
0011111111111111122221111111121666611111100
0000111111111111111122111111166111111111100
0000000000111111111112266611661111111111100
0000000000111111111116661666621110000000000
0000000000111111111166121111121110000000000
0000000001111111111161122111121110000000000
0000000006666666666661112221122211000000000
0000000001111111116611111122111221100000000
0000000011111111166111111112111122100000000
0000011111111116611111111112211112210000000
0000111111111166111111111111211111221100000
0111111111116661111111111111221111122110000
0111111111166111111111111111111111112210000
1111111111661111100000000111111111111110000
1111111116611110000000000100111111111110000
0111116666110000000000000000111111110000000
0111166000000000000000000000111111100000000
0000000000000000000000000000011110000000000
`;
//Offaly

let offaly = `000000661100000000000110000000000000000000
000000666111100000001111111000000000000000
000000611111112000111111111111111111111000
000000621111112211111111111112111111111110
000000622111111221111111111222111111111110
000000612211111122221112222211111111111111
000000611221111111222222111111111111111111
000006611221111122211222111111111111111111
000666611211112221111112211111111111111110
000611111221122111111111221111111111111110
000611111222221111111111122111111111111110
000611111221111111111001112221111111111100
000611112211111141000000001111111111111000
000011122111114441000000000001111111110000
000011122111114141100000000000000000000000
000111112211114444100000000000000000000000
001111111211144444400000000000000000000000
001111111221444440000000000000000000000000
111111111112210000000000000000000000000000
111111111111100000000000000000000000000000
111111111111000000000000000000000000000000
111111111110000000000000000000000000000000
111111111100000000000000000000000000000000
011111111000000000000000000000000000000000
000111111000000000000000000000000000000000
000011100000000000000000000000000000000000
`;

//Westmeath

let westmeath = `0000000000000000000000066666660000000000000000000000
0000000000000000000000661111166600000000000000000000
0000000000000000000000661111111110000000000000000000
0000000000000000000001161111111110000000000000000000
0000000000000000000011166666111111111100000000000000
0000000000000000001112221662111111111111111000000000
0000000000000000011122666612221111111111111100000000
0000000000000000011126611661122222221111111111100000
0000000000000000011166111161166666622222211111111111
0000000000000000666661121166611111666611222211111111
0000000000000000111111121116611444111661111221111111
0000000000000000111111121111666614441116111122111100
0001111000000001111112222211111111411166111112111000
0111111111001111111222111222111114416661111121111000
0111111111111111112211111112214444116111112221110000
0111111111111111112111111444244111116111122111100000
0111211111111111111111114444224111116111221111000000
1112211111111111111111111444422411116612211110000000
1112111111111111111111114444442224222661111100000000
1121111111111111111111114444444422211166661100000000
1121111112222222211111144441444224411111166000000000
1122111122111111222111144444442214444111100000000000
0112111221111111112221111111222444444110000000000000
0111222211100001111112211122214444410000000000000000
0011121110000000011111122224444100000000000000000000
0011111100000000000111111114100000000000000000000000
0001110000000000000001111111000000000000000000000000
0000000000000000000000001100000000000000000000000000
`;

//Wexford

let wexford = `0000000000000000000000055555111100
0000000000000000000000555554412211
0000000000001110000004555444122111
0000000000014411100155444111221111
0000000000044444411454411112111110
0000000000041414444444111112111100
0000000000444411114111111112111100
0000000044444111111111111112111110
0000000444441111111111111122111100
0000000441411111111111111221111100
0000000444411111111111222111111000
0000000444111111111112211111110000
0000004441111111111112111111110000
0000001411111111111112111111100000
0006664222111111111111222111000000
0006114112211111111111122110000000
0066111111122211111111221100000000
0661111111111221111111211000000000
0611111111111112222112110000000000
6611111111111111112222110000000000
6611111111111111111111110000000000
6611111111111111111111111110000000
6111111111111111111111111111100000
6611111111111111111111111111111000
0666111111111111111111111111111000
0006611111111111111111111111111000
0000611111111111111111111111110000
0006611000111111111111111111100000
0666110000000111111111111100000000
0611100000000000000000000000000000
`;
//Wicklow

let wicklow = `000000000001111100000000000000000000
000000000001111111110000000011110000
000000000001111111111110000121111000
000000000001144444411111111121111100
000000000011144444444111111122111110
000011111114455555554411111112111110
000111111441666664554444411112211110
001111114446645464446444411111121110
011111166666455466666444411111121110
066666664444115555544414411111122110
011144444455555555554444411111112110
111112444444555555555444411111112110
111111211115555544444441111111112210
011111222444555551114111111111111210
000111112221145544411111111111111210
000001111122244441111111111111111210
000000000111122244111111111111111211
000000000000111224111111111111122211
000000000000011124441111111111221111
000001000000001224411111111111211110
000011111100002244411111111111211110
000111111114222441111111111111111110
000111144442244111111111111111111000
000111111112411111111111111111000000
000011111112111111111111111110000000
000001111111111111111111111110000000
000000111111111100000000011110000000
000000000111111000000000000000000000
000000000000111000000000000000000000
`;

//Clare


let clare = `0000000000000000000000000000055000000000000000000000000000000000
0000000000000000000000000055555555000000000000000000000000000000
0000000000000000000000001555555555550000000000000000000000000000
0000000000000000000000001115555555551000000000000000000000000000
0000000000000000000000011114445555555110000000000000000000000000
0000000000000000000000111144422255551110000000011111000000000000
0000000000000000000001144444224222255111111111222221100000000000
0000000000000000000011144444244444222222222222244441110000000000
0000000000000000000111144444244444444421111144444444111000000016
0000000000000000000111114444222444444422111144444444411100001116
0000000000000000000011100001112244444112211144444444411111111116
0000000000000000000000000000111211444111214444444441111111111116
0000000000000000000000000000111214444111221111444444441111111160
0000000000000000000000000011122244444111122221111111111111116660
0000000000000000000000011122211444441111111112221111111111166000
0000000000000000000000112224411114411111122222111111111111660000
0000000000000000000001222144111144444122221111444441111111610000
0000000000000000000011244414444444112221111144444444441116600000
0000000000000001111122444444444412222111111444444444411166000000
0000000000000011112224444444444222111111114444444444441660000000
0000000000000111122444444444412211111661111444444441116600000000
0000000000001112224444444441222111116666611144444441660000000000
0000000001111111422211144422211111660000666144444466600000000000
0000001111111111111222222221111666600000006666666600000000000000
0000011111111111110011111111166600000000000000000000000000000000
0001111111111000000000111110000000000000000000000000000000000000
0011111111100000000000000000000000000000000000000000000000000000
0011111110000000000000000000000000000000000000000000000000000000
`;
//Cork

let cork = `8888888888888888888888801111000000000000001111000000000000000000000000
8888888888888888888880111111111100000001111111100000000001111000000000
8888888888888888888011111111111111101111111111111000011111111110000000
8888888888888888888111111111111111111111111111111111111111111111000000
8888888888888888888866611111111111111166666666611111111111111111110000
8888888888888888888888666111111111166661111111666666661116666666666000
8888888888888888888888816666666666661111111111111111166666111111111000
8888888888888888888888881111111111122211111111111111111112221111111000
8888888888888888888888888111111111144222244444445555412221111111111000
8888888888888888888888888811111444444455222222225554222111111111111110
8888888888888888888888888881444445555555555544422221211111111111111111
8888888888888888888888888884444555555544444444111122211111111111111110
8888888888888888888888888884455544444441111111111112211111111111111188
8888888888888888888888888814544116666666666111111111221100011111110888
8888888888888888888888111111111166111111116666666666666000011111108888
8888888888888888811111111111111166611111111111114441211110001110888888
8888884888888111111111111111111111661111114455544412211110888888888888
8888444888811111116666666666611111661111445554444222111108888888888888
8884448866666666666111111111666666611444555444222211111108888888888888
8844441114444442222111111111111111444555544222211111118888888888888888
8844144444444444112224441111114444555544422211111108888888888888888888
4444444444411111011122411111444555544442221111111088888888888888888888
4444441111111000114412211144415554441122111111111088888888888888888888
8814444111888881444444442211444444411112110888888888888888888888888888
8110111188888884444488811122211111111222100888888888888888888888888888
1111188888888884441888811111222222222211110888888888888888888888888888
8888888888844444888811111111111111111111188888888888888888888888888888
8888888888888888811111110111111888811188888888888888888888888888888888
8888888888888881111188881111111888888888888888888888888888888888888888
8888888888888888888888111111888888888888888888888888888888888888888888
`;
//Kerry

let kerry = `888888888888888888888888888888811111110000000000
888888888888888888888888888881111111111110000000
888888888888888888888888888881111111111111100000
888888888888888888888888888881111111111121111000
888888888888888888888888888111111111111224111000
888888888888888888888111111111111111122244110000
888888888888888888888811111111111112221441110000
888888888888888888888881111111111122144411100000
888888888888888888888881111111111121444411100111
888888888888888888888881111111111224444414111111
888888888888888888888888888111112214444444111111
888111111111188111111111111111111222222244411110
881111114441111112222222241111111111112244111100
881111144444442222444444441111111111112441110000
811122222228822111884444411111111111112211100000
811111111888888888881144411111111111111211000000
111111888888888881111144411122222221111241100000
888888888888888811111111111221614422111124110000
888888888888811111112222222666664412411124110000
888888888111111122221144445666665222111124110000
888888111111112221144555555555554211111224110000
888111111111122115555555554444422211112244110000
881888888111422555555551222222221222222441110000
888888881114412222222222111111111111144411100000
888888814444111111111111111111111144414111100000
888881144111188111111111111881111441111110000000
888811111188881111118888888811114111110000000000
888888888888881111888888888111114110000000000000
888888888888811188888888811111111000000000000000
888888888888888888888888111111100000000000000000
`;

//Limerick

let limerick = `00000000000000000000000066666612211111000000000000
00000000000000000006666664442222111111111100000000
00000000000000000666444444422121111111111111110000
00000000000000066614444422221121111111111111110000
00000000000006661444422221111121111111111111110000
00111666666666114444421211111122211111111111100000
01114444444444444422221211111111221111111110000000
01114444444444412221111211111111121111111111000000
01111144442222222411122211111111121111111111000000
01111114422144411112221111111111122211111111000000
00011144444444441112111111111111111244444110000000
00011111111111111122111111111111114244440000000000
00111111111111111121111111111111144240000000000000
01111111111111112211111111111111444220000000000000
01111111111111121111111111111111414440000000000000
01111111111111121111111111111111444440000000000000
01111111111111221111111111111111144444440000000000
01111111111112211111111111111111444444444400000000
11111111111112144411111111111114444444444444400000
11111111111112444444111111111114444444444554444000
11111111111112444441111111111111444444444555544400
01111111114444444400011111111111144444444555555550
00000011114444444000000111111111111111444455555555
00000001111444000000000011111111111111111155555550
00000001111111000000000011111111111100011115555550
00000000111100000000000000111111110000000111151000
00000000000000000000000000011111100000000000000000
`;

//Tipperary

let tipperary = `00000000155555100000000000000000
00000001445555110000000000000000
00000012455554110000000000000000
00000112245444110000000000000000
00011144244441111000000040000000
00011444244111111000001224100000
00011444422111110000112244110000
00114144112111110001122444110000
00114441112111100011224444100000
00114441112111111111214111100000
00111441122111661112214411000000
00111221221111166666111111000000
00011112211111111226644111000000
00000011111111111211644111100000
00000001111111111266644411100000
00000011111111166644444441110000
00000011111122262222441111111000
00001111111221166642221111111100
01111111112211111662412222221110
11111111122111116612211111111111
11111111112222666441211111111111
11111111112116644441122111111111
11111112222166144441112666611111
00111111111162244441116600666611
00001111111166211111116000000000
00001111111116661111166000000000
00011111111111166666661000000000
00011111111111111111111000000000
00001111111000011111111000000000
00000111110000001111000000000000
`;

//Waterford

let waterford = `0000000000000000000006000000000000000000000000000000000
0000000000000000000661666000000000000000000000000000000
0000000000000000666111116660000000000000000000000000000
0000000000000000611145554466660000000000000000000000000
0000000000000000611455555555566660000000000000000000000
0000000000000000111455555555555166666000000000000000000
0000000004440000111555555555455551116666666666666660000
0000000114444100011555555445555554411111122211111166660
0000011144444411111114415555555555544112221111111111110
6666666111441111111111444555555555555112111111111111110
1111116611444466666661144444444555554221111111111111110
0111111166666664111466644441111111222211111111111111111
0011111111111114444411611111112222111111111111111111110
0001111111111111222221611222222111100000001111111111100
0000111111122222211122662211221110000000000001111100000
0000011111444441111111166112211100000000000000000000000
0000001111444444441111166122111000000000000000000000000
0000000000114444444411161221111000000000000000000000000
0000000000001144444441662211111000000000000000000000000
0000000000000014442221622111111000000000000000000000000
0000000000000001444441611111110000000000000000000000000
0000000000000000111111111111100000000000000000000000000
0000000000000000001111111110000000000000000000000000000
0000000000000000000010000000000000000000000000000000000
`;


let county = cork.split("\n");

let ox=0, oy=0;
let grid = document.querySelector('#grid');

requestAnimationFrame(timerLoop);

function doTimers(t,i){



    grid.style.left = -ox % tileSize;
    grid.style.top = -oy % tileSize;
    let sx = Math.ceil(ox / tileSize);
    let sy = Math.ceil(oy / tileSize);

    updateGrid(tw, th, county, sx, sy);




}

    window.addEventListener("keydown", function(event){
        console.log('keycode', event.keyCode);
        const step = 1;
        switch(event.keyCode){
            case 38:  //up
                  py-= step;  oy--;
                     break;
            case 40:  //down
                  py+= step;   oy++;
                     break;
            case 39:  //right
                  px+= step;    ox++;
                     break;
            case 37:  //left
                  px-= step;    ox--;
                     break;
        
        
        
        }
    event.preventDefault();
    });


function setOffset(offsetx,offsety){
    body.style.backgroundPositionX = -offsetx + "px";
    body.style.backgroundPositionY = -offsety + "px";

}

function createArrayOfRandomInts(length,upperbound){
    let randomNumbers = Array(length);
    for (let i = 0; i<randomNumbers.length; i++){
        randomNumbers[i] = Math.floor(Math.random()*upperbound);
    }
    return randomNumbers;
}
